â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… CAMBIOS APLICADOS AL FIRMWARE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ ARCHIVOS MODIFICADOS:

1. sensors.h
   âœ… Agregadas variables RAW al struct SensorData:
      â€¢ adc_bat1, adc_bat2, adc_bat3
      â€¢ adc_solar, adc_eolica, adc_consumo
      â€¢ adc_ldr
   
   âœ… Modificadas funciones para guardar valores RAW:
      â€¢ leerVoltaje() â†’ guarda valor raw
      â€¢ leerCorriente() â†’ guarda valor raw
      â€¢ leerIrradiancia() â†’ guarda valor raw
   
   âœ… readAllSensors() actualizada:
      â€¢ Ahora guarda TODOS los valores RAW
      â€¢ Pasa punteros a las funciones de lectura

2. http_client.h
   âœ… Agregado bloque raw_adc en sendTelemetry():
      â€¢ EnvÃ­a 7 ADCs con valores 0-3.3V
      â€¢ EnvÃ­a valores RAW (0-4095)
      â€¢ Convierte con fÃ³rmula: (raw * 3.3) / 4095.0

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“Š DATOS QUE AHORA SE ENVÃAN:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

JSON de telemetrÃ­a incluye nuevo objeto "raw_adc":

{
  "device_id": "ESP32_INVERSOR_001",
  "voltaje_promedio": 59.99,
  "soc": 100,
  ...
  "raw_adc": {
    "adc1_bat1": 2.145,        // Voltaje real 0-3.3V
    "adc1_bat1_raw": 2654,     // Valor ADC 0-4095
    "adc2_bat2": 2.145,
    "adc2_bat2_raw": 2654,
    "adc3_bat3": 2.145,
    "adc3_bat3_raw": 2654,
    "adc4_solar": 1.650,
    "adc4_solar_raw": 2048,
    "adc5_wind": 1.650,
    "adc5_wind_raw": 2048,
    "adc6_load": 1.650,
    "adc6_load_raw": 2048,
    "adc7_ldr": 0.825,
    "adc7_ldr_raw": 1024
  }
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… VALIDACIÃ“N DE CAMBIOS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CORRECTA CONEXIÃ“N DE PINES:
âœ… GPIO34 â†’ ADC1_CH6 â†’ BaterÃ­a 1
âœ… GPIO35 â†’ ADC1_CH7 â†’ BaterÃ­a 2
âœ… GPIO32 â†’ ADC1_CH4 â†’ BaterÃ­a 3
âœ… GPIO33 â†’ ADC1_CH5 â†’ Corriente Solar
âœ… GPIO36 â†’ ADC1_CH0 â†’ Corriente EÃ³lica
âœ… GPIO39 â†’ ADC1_CH3 â†’ Corriente Consumo
âœ… GPIO25 â†’ ADC2_CH8 â†’ LDR Irradiancia

FUNCIONES MODIFICADAS:
âœ… leerVoltaje(pin, *raw_out) â†’ Guarda raw
âœ… leerCorriente(pin, *raw_out) â†’ Guarda raw
âœ… leerIrradiancia(pin, *raw_out) â†’ Guarda raw
âœ… readAllSensors() â†’ Pasa punteros para guardar

JSON TELEMETRÃA:
âœ… Crea objeto "raw_adc"
âœ… Convierte ADC a voltaje (0-3.3V)
âœ… Incluye valor raw (0-4095)
âœ… EnvÃ­a 7 ADCs completos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸš€ PARA SUBIR EL FIRMWARE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Abre Arduino IDE

2. Abre el proyecto:
   File â†’ Open â†’ inversor_hibrido.ino

3. Verifica que compile:
   Sketch â†’ Verify/Compile
   
   DeberÃ­as ver:
   "Done compiling."
   Sin errores

4. Selecciona puerto:
   Tools â†’ Port â†’ COMx (donde estÃ¡ el ESP32)

5. Sube:
   Sketch â†’ Upload
   
   Espera mensaje:
   "Hard resetting via RTS pin..."

6. Abre Monitor Serie:
   Tools â†’ Serial Monitor
   Baudrate: 115200
   
   DeberÃ­as ver:
   ================================================
   âœ… Â¡CONEXIÃ“N EXITOSA CON EL SERVIDOR!
   ================================================
   
   Y cada 1 segundo:
   ğŸ“¤ TelemetrÃ­a enviada: 200

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âš ï¸ VERIFICACIÃ“N POST-UPLOAD:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MONITOR SERIE:
âœ… WiFi conectado
âœ… Servidor: http://190.211.201.217:11112
âœ… TelemetrÃ­a enviada: 200 (cada 1 seg)
âœ… Heartbeat OK (cada 1 seg)

FRONTEND:
âœ… Ejecuta REINICIO_TOTAL.bat
âœ… Abre http://190.211.201.217:11113
âœ… Scroll derecha â†’ Ver panel "ğŸ“Š ADCs RAW"
âœ… Valores actualizÃ¡ndose cada 1 seg
âœ… Barras moviÃ©ndose en tiempo real

VALORES ESPERADOS:
âœ… ADC1-3 (baterÃ­as): ~2.0-2.5V (si voltaje 48V)
âœ… ADC4-6 (corrientes): ~1.65V (offset ACS712)
âœ… ADC7 (LDR): Variable segÃºn luz (0-3.3V)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ¯ RESUMEN:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ARCHIVOS:
âœ… sensors.h â†’ Variables RAW agregadas
âœ… http_client.h â†’ EnvÃ­o de RAW implementado

FUNCIONALIDAD:
âœ… Lee ADCs y guarda valores RAW
âœ… Convierte a voltaje real (0-3.3V)
âœ… EnvÃ­a al servidor cada 1 segundo
âœ… Frontend muestra en panel dedicado

PRÃ“XIMO PASO:
ğŸ”¥ SUBIR FIRMWARE AL ESP32 ğŸ”¥
